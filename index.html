<!DOCTYPE html>
<html lang="sw">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#06b6d4">
<title>WekaOda</title>

<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icon.png">

<style>
/* MSINGI (BASE STYLES) */
body{
  margin:0;
  font-family:Segoe UI,Arial,sans-serif;
  background:#f8fafc;
  color:#333;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  transition: background 0.3s, color 0.3s;
  -webkit-tap-highlight-color: transparent;
}
body.dark{background:#020617;color:#fff}

/* HEADER */
header{
  display:flex;
  align-items:center;
  gap:15px;
  padding:12px 15px;
  background:#fff;
  color:#06b6d4;
  font-size:22px;
  font-weight:bold;
  box-shadow:0 2px 10px rgba(0,0,0,.08);
  position:sticky;top:0;z-index:10;
  transition: background 0.3s, color 0.3s;
}
body.dark header{background:#0f172a;color:#22d3ee}

.menu-icon{font-size:28px;cursor:pointer; padding: 5px;}

/* NOTICE SECTION */
.notice{
  margin:15px;
  padding:15px;
  background:#fff;
  border-radius:15px;
  text-align:center;
  font-size:15px;
  line-height:1.6;
}
body.dark .notice{background:#0f172a}
.notice strong{font-size:18px;color:#06b6d4;display:block}
.notice a{color:#25D366;font-weight:bold;text-decoration:none}

/* SEARCH BOX */
.search-box{
  display:flex;
  gap:8px;
  padding:0 15px 20px;
}
.search-box input{
  flex:1;
  padding:12px 15px;
  border-radius:30px;
  border:1px solid #cbd5e1;
  font-size:14px;
}
body.dark .search-box input{
  background:#1e293b;
  color:white;
  border-color:#334155;
}
.search-box button{
  padding:12px 20px;
  border-radius:30px;
  background:#06b6d4;
  border:none;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

/* GRID / CARDS */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:12px;
  padding:0 15px 30px;
  flex-grow:1;
}

.card{
  background:white;
  padding:18px 10px;
  border-radius:18px;
  text-align:center;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
  transition: background 0.3s;
}
body.dark .card{background:#1e293b}
.card span{font-size:40px}
.card div{font-size:14px;font-weight:bold}

footer{
  padding:15px;
  background:#fff;
  text-align:center;
  font-size:14px;
}
body.dark footer{background:#0f172a}

/* MENU OVERLAY & BOX */
#menuOverlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:20;
}
#menuBox{
  position:absolute;
  left:-280px;
  top:0;
  width:280px;
  height:100%;
  background:#fff;
  padding:20px;
  transition:.3s;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}
body.dark #menuBox{background:#0f172a;color:white}

/* CLOSE BUTTON (X) */
.menu-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}
.menu-title { font-weight: bold; font-size: 18px; }
.close-menu{
  font-size: 32px;
  cursor: pointer;
  color: #ef4444;
  font-weight: bold;
  line-height: 1;
}

/* THEME SWITCHER BUTTONS & LABELS */
.menu-label {
  font-size: 12px;
  text-transform: uppercase;
  color: #94a3b8;
  padding: 10px 5px 5px;
  font-weight: bold;
  margin-top: 10px;
}
.menu-divider {
  height: 1px;
  background: #e2e8f0;
  margin: 15px 0;
  border: none;
  width: 100%;
}
body.dark .menu-divider { background: #334155; }

.theme-container {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
  background: #f1f5f9;
  padding: 10px;
  border-radius: 12px;
}
body.dark .theme-container { background: #1e293b; }

.theme-btn {
  flex: 1;
  text-align: center;
  padding: 8px;
  border-radius: 8px;
  font-size: 13px;
  font-weight: bold;
  cursor: pointer;
  border: 1px solid #cbd5e1;
  background: white;
  color: #333;
}
body.dark .theme-btn {
  background: #0f172a;
  color: white;
  border-color: #334155;
}
.theme-btn:active { transform: scale(0.95); }

/* MENU LINKS */
#menuBox a{
  display:flex;
  align-items:center;
  gap:12px;
  padding:15px 10px;
  text-decoration:none;
  color:inherit;
  font-size:15px;
  border-bottom: 1px solid #f1f5f9;
}
body.dark #menuBox a { border-bottom-color: #334155; }
#menuBox img{width:22px}

/* ABOUT BOX */
.about-box {
    background: #e0f2fe;
    color: #0369a1;
    padding: 15px;
    border-radius: 10px;
    font-size: 14px;
    text-align: center;
    line-height: 1.5;
}
body.dark .about-box { background: #0c4a6e; color: #bae6fd; }

</style>
</head>

<body>

<div id="menuOverlay" onclick="closeMenu()">
  <div id="menuBox" onclick="event.stopPropagation()">
    
    <div class="menu-header">
      <div class="menu-title">Menu</div>
      <div class="close-menu" onclick="closeMenu()">√ó</div>
    </div>

    <div class="menu-label">MUONEKANO</div>
    <div class="theme-container">
      <div class="theme-btn" onclick="setTheme('light')">‚òÄÔ∏è Light</div>
      <div class="theme-btn" onclick="setTheme('dark')">üåô Dark</div>
    </div>

    <div class="menu-label">TAARIFA (NOTIFICATIONS)</div>
    <div class="theme-btn" onclick="enableNotifications()" style="width:auto; margin-bottom:10px;">
       üîî Washa Notification
    </div>

    <div class="menu-label">WASILIANA NASI</div>
    <a href="https://maps.google.com/?q=Iborogelo,Igunga" target="_blank">üìç Iborogelo, Igunga</a>
    <a href="https://wa.me/255775769511?text=HABARI%20NAHITAJI%20BIDHAA">
      <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png"> WhatsApp
    </a>
    <a href="https://instagram.com/eliacjosiah" target="_blank">
      <img src="https://cdn-icons-png.flaticon.com/512/733/733558.png"> Instagram
    </a>
    <a href="tel:0779430083">üìû Call (Piga Simu)</a>

    <hr class="menu-divider">

    <div class="menu-label">KUHUSU (ABOUT)</div>
    <div class="about-box">
      Website hii imetengenezwa na<br>
      <strong style="font-size:16px;">Elias Josiah Mashinji</strong><br>
      Software Developer
    </div>
    
  </div>
</div>

<header>
  <div class="menu-icon" onclick="openMenu()">‚ò∞</div>
  üõí WekaOda
</header>

<div class="notice">
  <strong>JE KUNA KITU UNAUZA??</strong>
  Tunakusaidia kuuza haraka ‚Ä¢ Lipia kidogo kidogo au mara moja<br>
  WhatsApp üëâ <a href="https://wa.me/255775769511?text=HABARI%20NAHITAJI%20BIDHAA">Whatsapp</a>
  ‚Ä¢ Call <b>0779430083</b>
</div>

<div class="search-box">
  <input id="searchInput" placeholder="Tafuta bidhaa..." onkeyup="liveSearch(event)" onkeydown="enterSearch(event)">
  <button onclick="manualSearch()">Search</button>
</div>

<div class="grid">
  <div class="card" data-name="simu" onclick="go('simu.html')"><span>üì±</span><div>Simu</div></div>
  <div class="card" data-name="laptop" onclick="go('laptop.html')"><span>üíª</span><div>Laptop</div></div>
  <div class="card" data-name="tv" onclick="go('tv.html')"><span>üì∫</span><div>TV</div></div>
  <div class="card" data-name="radio" onclick="go('radio.html')"><span>üìª</span><div>Radio</div></div>
  <div class="card" data-name="godoro" onclick="go('godoro.html')"><span>üõèÔ∏è</span><div>Godoro</div></div>
  <div class="card" data-name="kitanda" onclick="go('kitanda.html')"><span>üõãÔ∏è</span><div>Kitanda</div></div>
  <div class="card" data-name="nguo kike" onclick="go('nguo-kike.html')"><span>üëó</span><div>Nguo za Kike</div></div>
  <div class="card" data-name="nguo kiume" onclick="go('nguo-kiume.html')"><span>üëî</span><div>Nguo za Kiume</div></div>
  <div class="card" data-name="nguo watoto" onclick="go('nguo-watoto.html')"><span>üßí</span><div>Nguo za Watoto</div></div>
  <div class="card" data-name="vinginevyo" onclick="go('vinginevyo.html')"><span>‚ûï</span><div>Vinginevyo</div></div>
</div>

<footer>¬© 2025 WekaOda</footer>

<script>
// SERVICE WORKER
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./sw.js')
      .then(reg => console.log('App imekubali:', reg))
      .catch(err => console.log('Kuna shida:', err));
  });
}

// NOTIFICATION LOGIC
function enableNotifications() {
  if (!("Notification" in window)) {
    alert("Simu yako haikubali notifications.");
    return;
  }

  Notification.requestPermission().then((permission) => {
    if (permission === "granted") {
      // Tuma notification ya majaribio
      new Notification("WekaOda", {
        body: "Asante! Sasa utapata taarifa za bidhaa mpya.",
        icon: "icon.png"
      });
    } else {
      alert("Tafadhali ruhusu notifications kwenye settings za simu.");
    }
  });
}

// THEME & OTHERS
window.onload = function() {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
        document.body.classList.add('dark');
    }
}

function setTheme(mode) {
    if (mode === 'dark') {
        document.body.classList.add('dark');
        localStorage.setItem('theme', 'dark');
    } else {
        document.body.classList.remove('dark');
        localStorage.setItem('theme', 'light');
    }
}

let menuOpen=false;

function openMenu(){
  menuOpen=true;
  document.getElementById("menuOverlay").style.display="block";
  setTimeout(() => { document.getElementById("menuBox").style.left="0"; }, 10);
  history.pushState({}, "");
}

function closeMenu(){
  menuOpen=false;
  document.getElementById("menuBox").style.left="-280px";
  setTimeout(()=>{ document.getElementById("menuOverlay").style.display="none" },300);
}
window.onpopstate=()=>{ if(menuOpen) closeMenu(); }

function go(link){ location.href=link }

function liveSearch(e){
  let v=e.target.value.toLowerCase();
  document.querySelectorAll(".card").forEach(c=>{
    c.style.display = c.dataset.name.includes(v)||v=="" ? "flex":"none";
  });
}
function enterSearch(e){ if(e.key==="Enter") manualSearch(); }

function manualSearch(){
  let v=searchInput.value.toLowerCase();
  if(v.includes("simu")) go("simu.html");
  else if(v.includes("laptop")) go("laptop.html");
  else if(v.includes("tv")) go("tv.html");
  else go("vinginevyo.html");
}
</script>

</body>
</html>

